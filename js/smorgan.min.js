/*! smorgan */

"use strict";$(document).ready(function(){console.log("Welcome to Sean Morgan's Blog: Everything Digital Media, and Everything Striking."),$.fn.extend({animateCss:function(e,t){var n=function(e){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}(document.createElement("div"));return this.addClass("animated "+e).one(n,function(){$(this).removeClass("animated "+e),"function"==typeof t&&t()}),this}});var i={debounce:function(o,i,a){var s;return function(){var e=this,t=arguments,n=a&&!s;clearTimeout(s),s=setTimeout(function(){s=null,a||o.apply(e,t)},i),n&&o.apply(e,t)}},scroll:{current:0,direction:null,timeout:null},viewport:{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0),resetTimeout:null,reset:function(){i.viewport.width=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i.viewport.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i.singlePost.headerOpen?(i.singlePost.headerHeightConst=$("#single-post-header").height(),i.singlePost.setSplashSize()):(null!==i.viewport.resetTimeout&&clearTimeout(i.viewport.resetTimeout),i.viewport.resetTimeout=setTimeout(function(){i.singlePost.toggleHeader(!0,function(){i.singlePost.headerHeightConst=$("#single-post-header").height(),i.singlePost.setSplashSize()})},250))}},checkScroll:function(){if(i.page.content.length){i.viewport.height;window.pageYOffset>i.scroll.current?"down"!==i.scroll.direction&&window.pageYOffset>i.viewport.height-i.page.header.height()&&(i.scroll.direction="down",i.page.header.animate({top:"-100px"},250,function(){}),i.page.search.animate({top:"0px"},250,function(){})):"up"!==i.scroll.direction&&(i.scroll.direction="up",i.page.header.animate({top:"0px"},250,function(){}),i.page.search.animate({top:"100px"},250,function(){}))}if(i.singlePost.content.length){window.pageYOffset>i.scroll.current-50?("down"!==i.scroll.direction&&window.pageYOffset>i.viewport.height-i.page.header.height()-i.singlePost.headerHeightConst&&(i.scroll.direction="down",i.page.header.animate({top:"-100px"},250,function(){}),i.page.search.animate({top:"0px"},250,function(){}),i.singlePost.header.animate({top:"0px"},250,function(){})),i.scroll.current=window.pageYOffset):window.pageYOffset<i.scroll.current-25&&(null!==i.scroll.timeout&&clearTimeout(i.scroll.timeout),i.scroll.timeout=setTimeout(function(){"up"!==i.scroll.direction&&(i.scroll.direction="up",i.page.header.animate({top:"0px"},250,function(){}),i.page.search.animate({top:"100px"},250,function(){}),i.singlePost.header.animate({top:"100px"},250,function(){})),i.scroll.current=window.pageYOffset},250));var e=i.viewport.height-i.page.header.height()-i.singlePost.header.height();window.pageYOffset>e&&i.singlePost.headerOpen&&i.singlePost.headerAutoHide&&(i.singlePost.headerAutoHide=!1,i.singlePost.toggleClick())}},toggleElement:function(e){var t=null;switch(e){case"search":t=i.page.search;break;case"categories":t=i.page.categories;break;case"header":t=i.page.header}t.slideToggle(250,function(){switch(e){case"search":i.page.searchOpen=!i.page.searchOpen;break;case"categories":i.page.catsOpen=!i.page.catsOpen}})},skipSplash:function(){var e=0;i.page.content.length&&(e=i.page.content.offset().top-i.page.header.height()),i.singlePost.content.length&&(e=i.singlePost.splash.height(),i.singlePost.headerOpen&&(i.singlePost.headerAutoHide=!1,i.singlePost.toggleClick())),$("html, body").animate({scrollTop:e})},page:{loading:$("#loading"),header:$("header"),headerHeight:$("header").height(),responsiveNav:$("#navResponsive"),splash:$("#splash"),splashSkip:$("#skip-splash"),toggleNav:$("#toggle-nav"),categories:$("#categories"),categoriesToggle:$("#toggle-cats"),categoriesOpen:!1,search:$("#search-bar"),searchOpen:!1,closeSearch:$("#close-search"),openSearch:$("#open-search"),content:$("#page-main"),footer:$("footer")},singlePost:{content:$("#single-post"),header:$("#single-post-header"),headerHeightConst:0,headerToggle:$("#single-post-header .toggle"),headerOpen:!0,headerAutoHide:!0,toggle:$("#toggle-header"),title:$("#single-post-title"),splash:$("#single-splash"),discussionLink:$("#single-discussion"),setSplashSize:function(){i.singlePost.splash.css({opacity:1,height:i.viewport.height-i.singlePost.header.height()-i.page.header.height(),top:i.singlePost.header.height(),"margin-bottom":i.singlePost.header.height()})},toggleHeader:function(e,t){e?i.singlePost.splash.animate({top:i.singlePost.headerHeightConst+"px","margin-bottom":i.singlePost.headerHeightConst+"px"},250,function(){}):i.singlePost.splash.animate({top:"0px","margin-bottom":"0px"},250,function(){}),i.singlePost.headerToggle.slideToggle(250,function(){i.singlePost.headerOpen?i.singlePost.toggle.html("<i class='fa fa-chevron-down'></i>"):i.singlePost.toggle.html("<i class='fa fa-chevron-up'></i>"),i.singlePost.headerOpen=!i.singlePost.headerOpen,"function"==typeof t&&t()})},titleClick:function(){$("html, body").animate({scrollTop:0})},discussionClick:function(){var e=$("#comments").offset().top-i.singlePost.header.height()-i.page.header.height();$("html, body").animate({scrollTop:e})},toggleClick:function(){i.singlePost.headerOpen?i.singlePost.toggleHeader(!1,function(){}):i.singlePost.toggleHeader(!0,function(){})}},contact:{request:null,form:$("#contactForm"),error:$("#formError"),prompt:$("#ui-prompt"),visitor:{name:$("#visitorname"),email:$("#visitoremail"),comments:$("#visitorcomment")},submit:$("#contactSubmit"),loading:$("#email-loading"),validate:function(){if(""===i.contact.visitor.name.val()||!i.contact.visitor.name.val().length||null===i.contact.visitor.name.val())return i.contact.error.text("Please fill out your name.").show().fadeOut(2e3),!1;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i.contact.visitor.email.val()).toLowerCase())?!(""===i.contact.visitor.comments.val()||!i.contact.visitor.comments.val().length||null===i.contact.visitor.comments.val())||(i.contact.error.text("Please add some comments.").show().fadeOut(2e3),!1):(i.contact.error.text("Please use a valid email address.").show().fadeOut(2e3),!1)}},resume:{quicklinks:$(".quick-link, .top-link"),quicknav:function(e){var t=$("#"+e).offset().top-i.page.header.height();$("html, body").animate({scrollTop:t})}}};$(window).resize(function(){i.viewport.reset()}),window.addEventListener("scroll",function(e){i.checkScroll()}),i.checkScroll(),i.page.splashSkip.click(function(){i.skipSplash()}),i.page.toggleNav.click(function(e){i.page.responsiveNav.slideToggle(250,function(){})}),i.page.openSearch.click(function(e){i.toggleElement("search")}),i.page.closeSearch.click(function(e){i.toggleElement("search")}),i.page.categoriesToggle.click(function(e){i.toggleElement("categories")}),$(document).delegate(".post-header","click",function(){window.location=$(this).find("a.hidden-link").attr("href")}),i.singlePost.title.click(function(e){i.singlePost.titleClick()}),i.singlePost.discussionLink.click(function(e){i.singlePost.discussionClick()}),i.singlePost.toggle.click(function(e){i.singlePost.toggleClick()}),$("#contactSubmit").click(function(e){var o=function(e){i.contact.error.text(e).show().fadeOut(4e3),grecaptcha.reset()};if(i.contact.validate()){i.contact.form.css({display:"none"}),i.contact.loading.css({display:"block"}),i.contact.request&&i.contact.request.abort();var t=i.contact.form.find("input, textarea").serialize();$.ajax({url:emailHandler+"/email/contact.php",type:"post",data:t,error:function(e,t,n){},success:function(e,t,n){switch(i.contact.prompt.text("Message delivered, thanks for reaching out!").show().fadeOut(4e3),i.contact.visitor.name.val(""),i.contact.visitor.email.val(""),i.contact.visitor.comments.val(""),grecaptcha.reset(),i.contact.form.css({display:"flex"}),i.contact.loading.css({display:"none"}),JSON.parse(e).success){case 1:grecaptcha.reset();break;case 2:o("Please fill out your name.");break;case 3:o("Please use a vaild email address.");break;case 4:o("Please add some comments.");break;case 5:o("Captcha failed.");break;case 6:o("I'm sorry, the server had troubled delivering your message.");break;case 7:o("Captcha failed.")}}})}}),i.resume.quicklinks.click(function(e){var t=$(this).data("tgt");i.resume.quicknav(t)}),i.page.content.length?(i.page.footer.css({display:"flex"}),$("#blog-link").attr("href","javascript:void(0);"),$("#blog-link").click(function(e){var t=i.page.content.offset().top-100;$("html, body").animate({scrollTop:t})}),$("#home-link").attr("href","javascript:void(0);"),$("#home-link").click(function(e){$("html, body").animate({scrollTop:0})})):i.singlePost.content.length?(i.singlePost.setSplashSize(),i.singlePost.splash.animateCss("fadeIn",function(){i.page.footer.css({display:"flex"})}),i.singlePost.headerHeightConst=$("#single-post-header").height()):i.page.footer.css({display:"flex"}),i.page.loading.animateCss("fadeOut",function(){i.page.loading.css({display:"none"})})});