/*! smorgan */

"use strict";$(document).ready(function(){console.log("Welcome to Sean Morgan's Blog: Everything Digital Media, and Everything Striking."),$.fn.extend({animateCss:function(e,t){var n=function(e){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}(document.createElement("div"));return this.addClass("animated "+e).one(n,function(){$(this).removeClass("animated "+e),"function"==typeof t&&t()}),this}});var o={viewport:{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0),reset:function(){o.viewport.width=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o.viewport.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o.singlePost.headerOpen?(o.singlePost.headerHeightConst=$("#single-post-header").height(),o.singlePost.setSplashSize()):o.singlePost.toggleHeader(!0,function(){o.singlePost.headerHeightConst=$("#single-post-header").height(),o.singlePost.setSplashSize()})}},checkScroll:function(){if(o.page.content.length){var e=o.page.splash.height(),t=.02*$(window).height();window.pageYOffset>=e&&o.page.searchOpen?(o.page.search.css("position","fixed"),o.page.search.css("top","100px"),o.page.content.css("top",o.page.search.height()+t)):window.pageYOffset<e&&o.page.searchOpen&&(o.page.search.css("position","relative"),o.page.search.css("top","0"),o.page.content.css("top","0"))}if(o.singlePost.content.length){var n=o.singlePost.splash.height();window.pageYOffset>n&&o.singlePost.headerOpen&&o.singlePost.headerAutoHide&&(o.singlePost.headerAutoHide=!1,o.singlePost.toggleClick())}},toggleElement:function(e){var t=null;switch(e){case"search":t=o.page.search;break;case"categories":t=o.page.categories}t.slideToggle(250,function(){switch(e){case"search":o.page.searchOpen=!o.page.searchOpen;break;case"categories":o.page.catsOpen=!o.page.catsOpen}})},skipSplash:function(){var e=0;o.page.content.length&&(e=o.page.content.offset().top-o.page.header.height()),o.singlePost.content.length&&(e=o.singlePost.splash.height(),o.singlePost.headerOpen&&(o.singlePost.headerAutoHide=!1,o.singlePost.toggleClick())),$("html, body").animate({scrollTop:e})},page:{loading:$("#loading"),header:$("header"),responsiveNav:$("#navResponsive"),splash:$("#splash"),splashSkip:$("#skip-splash"),toggleNav:$("#toggle-nav"),categories:$("#categories"),categoriesToggle:$("#toggle-cats"),categoriesOpen:!1,search:$("#search-bar"),searchOpen:!1,closeSearch:$("#close-search"),openSearch:$("#open-search"),content:$("#page-main"),footer:$("footer")},singlePost:{content:$("#single-post"),header:$("#single-post-header"),headerHeightConst:$("#single-post-header").height(),headerToggle:$("#single-post-header .toggle"),headerOpen:!0,headerAutoHide:!0,toggle:$("#toggle-header"),title:$("#single-post-title"),splash:$("#single-splash"),discussionLink:$("#single-discussion"),setSplashSize:function(){o.singlePost.splash.css({opacity:1,height:o.viewport.height-o.singlePost.header.height()-o.page.header.height(),top:o.singlePost.header.height(),"margin-bottom":o.singlePost.header.height()})},toggleHeader:function(e,t){e?o.singlePost.splash.animate({top:o.singlePost.headerHeightConst+"px","margin-bottom":o.singlePost.headerHeightConst+"px"},250,function(){}):o.singlePost.splash.animate({top:"0px","margin-bottom":"0px"},250,function(){}),o.singlePost.headerToggle.slideToggle(250,function(){o.singlePost.headerOpen?o.singlePost.toggle.html("<i class='fa fa-chevron-down'></i>"):o.singlePost.toggle.html("<i class='fa fa-chevron-up'></i>"),o.singlePost.headerOpen=!o.singlePost.headerOpen,"function"==typeof t&&t()})},titleClick:function(){$("html, body").animate({scrollTop:0})},discussionClick:function(){var e=$("#comments").offset().top-o.singlePost.header.height()-o.page.header.height();$("html, body").animate({scrollTop:e})},toggleClick:function(){o.singlePost.headerOpen?o.singlePost.toggleHeader(!1,function(){}):o.singlePost.toggleHeader(!0,function(){})}},contact:{request:null,form:$("#contactForm"),error:$("#formError"),prompt:$("#ui-prompt"),visitor:{name:$("#visitorname"),email:$("#visitoremail"),comments:$("#visitorcomment")},submit:$("#contactSubmit"),loading:$("#email-loading"),validate:function(){if(""===o.contact.visitor.name.val()||!o.contact.visitor.name.val().length||null===o.contact.visitor.name.val())return o.contact.error.text("Please fill out your name.").show().fadeOut(2e3),!1;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(o.contact.visitor.email.val()).toLowerCase())?!(""===o.contact.visitor.comments.val()||!o.contact.visitor.comments.val().length||null===o.contact.visitor.comments.val())||(o.contact.error.text("Please add some comments.").show().fadeOut(2e3),!1):(o.contact.error.text("Please use a valid email address.").show().fadeOut(2e3),!1)}}};$(window).resize(function(){o.viewport.reset()}),window.addEventListener("scroll",function(e){o.checkScroll()}),o.checkScroll(),o.page.splashSkip.click(function(){o.skipSplash()}),o.page.toggleNav.click(function(e){o.page.responsiveNav.slideToggle(250,function(){})}),o.page.openSearch.click(function(e){o.toggleElement("search")}),o.page.closeSearch.click(function(e){o.toggleElement("search")}),o.page.categoriesToggle.click(function(e){o.toggleElement("categories")}),$(document).delegate(".post-header","click",function(){window.location=$(this).find("a.hidden-link").attr("href")}),o.singlePost.title.click(function(e){o.singlePost.titleClick()}),o.singlePost.discussionLink.click(function(e){o.singlePost.discussionClick()}),o.singlePost.toggle.click(function(e){o.singlePost.toggleClick()}),$("#contactSubmit").click(function(e){var s=function(e){o.contact.error.text(e).show().fadeOut(4e3),grecaptcha.reset()};if(o.contact.validate()){o.contact.form.css({display:"none"}),o.contact.loading.css({display:"block"}),o.contact.request&&o.contact.request.abort();var t=o.contact.form.find("input, textarea").serialize();$.ajax({url:emailHandler+"/email/contact.php",type:"post",data:t,error:function(e,t,n){},success:function(e,t,n){switch(o.contact.prompt.text("Message delivered, thanks for reaching out!").show().fadeOut(4e3),o.contact.visitor.name.val(""),o.contact.visitor.email.val(""),o.contact.visitor.comments.val(""),grecaptcha.reset(),o.contact.form.css({display:"flex"}),o.contact.loading.css({display:"none"}),JSON.parse(e).success){case 1:grecaptcha.reset();break;case 2:s("Please fill out your name.");break;case 3:s("Please use a vaild email address.");break;case 4:s("Please add some comments.");break;case 5:s("Captcha failed.");break;case 6:s("I'm sorry, the server had troubled delivering your message.");break;case 7:s("Captcha failed.")}}})}}),o.page.content.length?o.page.footer.css({display:"flex"}):o.singlePost.content.length?(o.singlePost.setSplashSize(),o.singlePost.splash.animateCss("fadeIn",function(){o.page.footer.css({display:"flex"})})):o.page.footer.css({display:"flex"}),o.page.loading.animateCss("fadeOut",function(){o.page.loading.css({display:"none"})})});